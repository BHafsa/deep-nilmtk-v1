

<!DOCTYPE html>
<html class="writer-html5" lang="python" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Preprocessing package &mdash; deep_nilmtk 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Utils package" href="deep_nilmtk.utils.html" />
    <link rel="prev" title="Model package" href="deep_nilmtk.model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> deep_nilmtk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Deep-NILMtk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="deep_nilmtk.config.html">Config package</a></li>
<li class="toctree-l2"><a class="reference internal" href="deep_nilmtk.disaggregate.html">Disaggregate package</a></li>
<li class="toctree-l2"><a class="reference internal" href="deep_nilmtk.loader.html">Loader package</a></li>
<li class="toctree-l2"><a class="reference internal" href="deep_nilmtk.model.html">Model package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Preprocessing package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-deep_nilmtk.preprocessing.pre_processing">Pre_processing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-deep_nilmtk.preprocessing.states">States module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-deep_nilmtk.preprocessing.threshold">Threshold module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deep_nilmtk.utils.html">Utils package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">deep_nilmtk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Deep-NILMtk</a> &raquo;</li>
        
      <li>Preprocessing package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/deep_nilmtk.preprocessing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-deep_nilmtk.preprocessing">
<span id="preprocessing-package"></span><h1>Preprocessing package<a class="headerlink" href="#module-deep_nilmtk.preprocessing" title="Permalink to this headline">¶</a></h1>
<p>Pre-processing module is a module responsible of analysing the raw energy data as provided from the NILMtk
API. It contains a pre-processing sub-module that defines the different data transformations to be applied 
to the input data (e.g., data normalisation). It focuses on the input data, while the output data is included 
in the data loader as some models requires states generation.</p>
<div class="section" id="module-deep_nilmtk.preprocessing.pre_processing">
<span id="pre-processing-module"></span><h2>Pre_processing module<a class="headerlink" href="#module-deep_nilmtk.preprocessing.pre_processing" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.pre_processing.data_preprocessing">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.pre_processing.</span></span><span class="sig-name descname"><span class="pre">data_preprocessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mains'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">329</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">450</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'q':</span> <span class="pre">50,</span> <span class="pre">'w':</span> <span class="pre">10}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1500</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/pre_processing.html#data_preprocessing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.pre_processing.data_preprocessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Default pre-processing function. It performs normalization of the input. 
However, it leaves the target output normlization to the dataloader as 
some loaders require to also generate the states from the the original data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aggregate</strong> (<em>list of DataFrames</em>) -- The aggregate power</p></li>
<li><p><strong>targets</strong> (<em>list of DataFrames</em><em>, </em><em>optional</em>) -- The target power, defaults to None</p></li>
<li><p><strong>feature_type</strong> (<em>str</em><em>, </em><em>optional</em>) -- the type of input features to derive from the aggregate power, defaults to main</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>optional</em>) -- reflection rate, defaults to 0.1</p></li>
<li><p><strong>normalize</strong> (<em>[</em><em>type</em><em>]</em><em>, </em><em>optional</em>) -- normalization type, defaults to None</p></li>
<li><p><strong>main_mu</strong> (<em>int</em><em>, </em><em>optional</em>) -- the mean of the aggregate power data, defaults to 329</p></li>
<li><p><strong>main_std</strong> (<em>int</em><em>, </em><em>optional</em>) -- the std of the aggregate power data, defaults to 450</p></li>
<li><p><strong>q_filter</strong> (<em>dict</em><em>, </em><em>optional</em>) -- quantile filters, defaults to {&quot;q&quot;:50, &quot;w&quot;:10}</p></li>
<li><p><strong>main_min</strong> (<em>int</em><em>, </em><em>optional</em>) -- the min of the aggregate power data, defaults to 0</p></li>
<li><p><strong>main_max</strong> (<em>int</em><em>, </em><em>optional</em>) -- the max of the aggregate power data, defaults to 1500</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>aggregate power, submetered data all in one dataframe , submetered data as seperate datFrames</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.pre_processing.get_differential_power">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.pre_processing.</span></span><span class="sig-name descname"><span class="pre">get_differential_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/pre_processing.html#get_differential_power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.pre_processing.get_differential_power" title="Permalink to this definition">¶</a></dt>
<dd><p>The differences between consecutive elements of an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>np.array</em>) -- the input data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The differences.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.pre_processing.get_percentile">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.pre_processing.</span></span><span class="sig-name descname"><span class="pre">get_percentile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/pre_processing.html#get_percentile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.pre_processing.get_percentile" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the percentile p of the data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em>) -- The power data</p></li>
<li><p><strong>p</strong> (<em>int</em><em>, </em><em>optional</em>) -- The quantile , defaults to 50</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The quantile values of the power data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.pre_processing.get_temporal_info">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.pre_processing.</span></span><span class="sig-name descname"><span class="pre">get_temporal_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/pre_processing.html#get_temporal_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.pre_processing.get_temporal_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the temporal information related 
power consumption</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em><em>(</em><em>DatetimeIndex</em><em>)</em>) -- a list of temporal information</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Temporal contextual information of the energy data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.pre_processing.get_variant_power">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.pre_processing.</span></span><span class="sig-name descname"><span class="pre">get_variant_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/pre_processing.html#get_variant_power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.pre_processing.get_variant_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate variant power which reduce noise that may impose negative influence on  pattern identification</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em>) -- power signal</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>optional</em>) -- reflection rate, defaults to 0.1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The variant power generated</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.pre_processing.over_lapping_sliding_window">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.pre_processing.</span></span><span class="sig-name descname"><span class="pre">over_lapping_sliding_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seq_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/pre_processing.html#over_lapping_sliding_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.pre_processing.over_lapping_sliding_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates overlappping sequences using the sliding sequence approach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em>) -- Power data</p></li>
<li><p><strong>seq_len</strong> (<em>int</em><em>, </em><em>optional</em>) -- The length of the sequences. Defaults to 4.</p></li>
<li><p><strong>step_size</strong> (<em>int</em><em>, </em><em>optional</em>) -- The step size. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An array of the generated sequences.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.pre_processing.quantile_filter">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.pre_processing.</span></span><span class="sig-name descname"><span class="pre">quantile_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sequence_length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/pre_processing.html#quantile_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.pre_processing.quantile_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies quantile filter on the input data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em>) -- The input data power data.</p></li>
<li><p><strong>sequence_length</strong> (<em>int</em><em>, </em><em>optional</em>) -- The length of sequence, defaults to 10</p></li>
<li><p><strong>p</strong> (<em>int</em><em>, </em><em>optional</em>) -- The percentile. Defaults to 50.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of values for correponding percentile</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-deep_nilmtk.preprocessing.states">
<span id="states-module"></span><h2>States module<a class="headerlink" href="#module-deep_nilmtk.preprocessing.states" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.states.compute_status">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.states.</span></span><span class="sig-name descname"><span class="pre">compute_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appliances</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_power</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_off</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_means</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appliances_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'at'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/states.html#compute_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.states.compute_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the operational states relative to the current power
consumption of the applaince</p>
<dl class="simple">
<dt>Args:</dt><dd><p>appliances ([type]): [description]
dates ([type], optional): [description]. Defaults to None.
period (str, optional): [description]. Defaults to &quot;1min&quot;.
max_power (float, optional): [description]. Defaults to 10000.0.
thresholds ([type], optional): [description]. Defaults to None.
min_off ([type], optional): [description]. Defaults to None.
min_on ([type], optional): [description]. Defaults to None.
threshold_std (bool, optional): [description]. Defaults to True.
return_means (bool, optional): [description]. Defaults to False.
appliances_labels (list, optional): [description]. Defaults to [].
threshold_method (str, optional): [description]. Defaults to 'at'.</p>
</dd>
<dt>Returns:</dt><dd><p>[type]: [description]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.states.get_status">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.states.</span></span><span class="sig-name descname"><span class="pre">get_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/states.html#get_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.states.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>[summary]</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ser (np.array): shape = (num_series, series_len, num_meters)
- num_series : Amount of time series.
- series_len : Length of each time series.
- num_meters : Meters contained in the array.
thresholds (np.array): shape = (num_meters,)</p>
</dd>
<dt>Returns:</dt><dd><p>np.array: shape = (num_series, series_len, num_meters)
With binary values indicating ON (1) and OFF (0) states.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.states.get_status_by_duration">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.states.</span></span><span class="sig-name descname"><span class="pre">get_status_by_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_off</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_on</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/states.html#get_status_by_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.states.get_status_by_duration" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Args</dt><dd><dl class="simple">
<dt>ser<span class="classifier">numpy.array</span></dt><dd><p>shape = (num_series, series_len, num_meters)
- num_series : Amount of time series.
- series_len : Length of each time series.
- num_meters : Meters contained in the array.</p>
</dd>
<dt>thresholds<span class="classifier">numpy.array</span></dt><dd><p>shape = (num_meters,)</p>
</dd>
<dt>min_off<span class="classifier">numpy.array</span></dt><dd><p>shape = (num_meters,)</p>
</dd>
<dt>min_on<span class="classifier">numpy.array</span></dt><dd><p>shape = (num_meters,)</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><dl class="simple">
<dt>ser_bin<span class="classifier">numpy.array</span></dt><dd><p>shape = (num_series, series_len, num_meters)
With binary values indicating ON (1) and OFF (0) states.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.states.get_status_means">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.states.</span></span><span class="sig-name descname"><span class="pre">get_status_means</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/states.html#get_status_means"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.states.get_status_means" title="Permalink to this definition">¶</a></dt>
<dd><p>Get means of both status.</p>
</dd></dl>

</div>
<div class="section" id="module-deep_nilmtk.preprocessing.threshold">
<span id="threshold-module"></span><h2>Threshold module<a class="headerlink" href="#module-deep_nilmtk.preprocessing.threshold" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.threshold.get_threshold_params">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.threshold.</span></span><span class="sig-name descname"><span class="pre">get_threshold_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appliances</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'at'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/threshold.html#get_threshold_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.threshold.get_threshold_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the method name and list of appliances,
this function results the necessary Args to use the method in
ukdale_data.load_ukdale_meter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>appliances</strong> (<em>list</em>) -- List of aappliances</p></li>
<li><p><strong>threshold_method</strong> (<em>str</em><em>, </em><em>optional</em>) -- Thresholding method, defaults to 'at'</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> -- Wrong thresholding method</p></li>
<li><p><strong>ValueError</strong> -- Missing parameters of an applaince</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>thresholds, min_off, min_on, threshold_std</p>
</dd>
</dl>
<p>:rtype:tuple</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="deep_nilmtk.preprocessing.threshold.get_thresholds">
<span class="sig-prename descclassname"><span class="pre">deep_nilmtk.preprocessing.threshold.</span></span><span class="sig-name descname"><span class="pre">get_thresholds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deep_nilmtk/preprocessing/threshold.html#get_thresholds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deep_nilmtk.preprocessing.threshold.get_thresholds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the estimated thresholds that splits ON and OFF appliances states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ser</strong> (<em>np.array</em>) -- An array with shape = (num_series, series_len, num_meters)
- num_series : Amount of time series.
- series_len : Length of each time series.
- num_meters : Meters contained in the array.</p></li>
<li><p><strong>use_std</strong> (<em>bool</em><em>, </em><em>optional</em>) -- Consider the standard deviation of each cluster when computing the threshold. If not, the threshold is set in the middle point between    cluster centroids., defaults to True</p></li>
<li><p><strong>return_mean</strong> (<em>bool</em><em>, </em><em>optional</em>) -- If True, return the means as second parameter., defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>thresholds and mean consumption for each appliance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The eman values are  only returned when return_mean is True (default False)</p>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="deep_nilmtk.utils.html" class="btn btn-neutral float-right" title="Utils package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="deep_nilmtk.model.html" class="btn btn-neutral float-left" title="Model package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Boubsiat Hafsa.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>